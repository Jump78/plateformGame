{"version":3,"sources":["webpack:///webpack/bootstrap e2ab058af583ff88f4d6","webpack:///./src/app.js","webpack:///./src/config.js","webpack:///./src/game.js","webpack:///./src/scene.js","webpack:///./src/canvas.js","webpack:///./src/tileset.class.js","webpack:///./src/entity.class.js","webpack:///./src/Plateform.class.js"],"names":["message","name","status","version","console","log","start","tilesprite","isPaused","i","plateform","sprite","tiles","position","x","y","scale","Math","random","addScene","gameloop","render","update","requestAnimationFrame","window","onkeydown","getIsPaused","ctx","getCtx","scene","arg","id","length","push","deleteScene","slice","getScene","clearRect","getWidth","getHeight","isRenderable","canvas","document","getElementById","getContext","width","floor","innerWidth","height","innerHeight","style","margin","body","appendChild","uri","tileWidth","tileHeight","marge","image","Image","tile","src","tileSize","nbTile","tileId","tileX","tileY","ceil","xSource","ySource","drawImage","round","obj","velocity","renderable","prop","hasOwnProperty","a","coord","getTileSize","drawTile"],"mappings":"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","file":"app-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/asset/script/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e2ab058af583ff88f4d6","import config from './config';\r\nimport Game from './game';\r\n\r\nlet message = `Application \"${config.name} (${config.status})\" version ${config.version} ready and running`;\r\nconsole.log( message );\r\n\r\nGame.start();\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","\r\nexport default {\r\n    name: \"plateformGame\",\r\n    version: \"0.0\",\r\n    status: 'development'\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","import scene from './scene';\r\nimport Tileset from './tileset.class.js'\r\nimport Plateform from './Plateform.class.js'\r\n\r\nlet tilesprite = new Tileset('asset/images/tileset/tilesheet_world.png',72,72,2);\r\n\r\nlet isPaused = false;\r\n\r\nfor (var i = 0; i < 5; i++) {\r\n\t\r\n\tlet plateform = new Plateform({\r\n\t\tsprite : tilesprite,\r\n\t\ttiles : [15,3,146],\r\n\t\tposition : {x:25*i,y: 25*i},\r\n\t\tscale : Math.random()\r\n\t})\r\n\t\r\n\tscene.addScene(plateform);\r\n}\r\n\r\nfunction gameloop(){\r\n\tif (!isPaused) {\r\n\t\tscene.render();\r\n\t\tscene.update()\r\n\t}\r\n\r\n\trequestAnimationFrame(gameloop); \r\n}\r\n\r\nwindow.onkeydown = function() {\r\n    isPaused = !isPaused;\r\n};\r\n\r\nexport default {\r\n\tstart(){\r\n\t\trequestAnimationFrame(gameloop); \r\n\t},\r\n\r\n\tgetIsPaused(){ \r\n\t\treturn isPaused;\r\n\t},\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/game.js","import canvas from './canvas';\r\n\r\nlet ctx = canvas.getCtx();\r\n\r\nlet scene = []; \r\n\r\nexport default{\r\n\taddScene(arg){\r\n\t\targ.id = scene.length+1;\r\n\t\tscene.push(arg)\r\n\t},\r\n\r\n\tdeleteScene(id){\r\n\t\tscene.slice(id,1);\r\n\t},\r\n\r\n\tgetScene(){\r\n\t\treturn scene;\r\n\t},\r\n\r\n\trender(){\r\n\t\tctx.clearRect(0,0,canvas.getWidth(), canvas.getHeight());\r\n\r\n\t\tfor (var i = 0; i < scene.length; i++) {\r\n\t\t\tif(scene[i].render && scene[i].isRenderable()) scene[i].render(ctx);\r\n\t\t};\r\n\t},\r\n\r\n\tupdate(){\r\n\t\tfor (var i = 0; i < scene.length; i++) {\r\n\t\t\tif(scene[i].update) scene[i].update();\r\n\t\t\tif(!scene[i].isRenderable()) deleteScene(i);\r\n\t\t};\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scene.js","console.log('canvas open');\r\n\r\nlet canvas = document.getElementById('game');\r\nlet ctx = canvas.getContext('2d');\r\n\r\nlet width = Math.floor(0.8 * window.innerWidth);\r\nlet height = Math.floor(0.9 * window.innerHeight);\r\n\r\ncanvas.style.width = width+ \"px\";\r\ncanvas.style.height = height + \"px\";\r\n\r\ncanvas.style.margin = ((window.innerHeight/2)-(height/2)) + \"px 0px 0px \" + ((window.innerWidth/2)-(width/2)) +\"px\";\r\n\r\ndocument.body.appendChild(canvas);\r\n\r\nconsole.log('canvas ready');\r\n\r\nexport default {\r\n\tgetWidth(){return width},\r\n\tgetHeight(){return height},\r\n\tgetCtx(){return ctx}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/canvas.js","export default class{\r\n\tconstructor(uri,tileWidth,tileHeight,marge){\r\n\r\n\t\tthis.marge  = marge || 0;\r\n\r\n\t    this.image = new Image();\r\n\r\n\t    this.image.tile = this;\r\n\r\n\t    this.image.src = uri;\r\n\r\n\t    this.tileSize = {\r\n\t    \twidth : tileWidth,\r\n\t    \theight : tileHeight\r\n\t    }\r\n\r\n\t    this.nbTile = {\r\n\t    \twidth : this.image.width / tileWidth,\r\n\t \t\theight : this.image.height / tileHeight\r\n\t \t};\r\n\r\n    }\r\n\r\n\tdrawTile(tileId, ctx, x, y, scale){\r\n\r\n\t    if (scale) scale = scale;\r\n\t    else scale = 1;\r\n\r\n\t\tlet tileX = tileId % this.nbTile.width;\r\n\t\tif (tileX == 0) tileX = this.nbTile.width;\r\n\r\n\t\tlet tileY = Math.ceil(tileId / this.nbTile.width);\r\n\r\n\t\tlet xSource = (tileX - 1) * this.tileSize.width;\r\n\t\r\n\t\tlet ySource = (tileY - 1) * this.tileSize.height;\r\n\r\n\t\tctx.drawImage(this.image, xSource, ySource, this.tileSize.width, this.tileSize.height, x, y, \r\n\t\t\t\t\t  Math.round(this.tileSize.width*scale), Math.round(this.tileSize.height*scale));\r\n\t}\r\n\r\n\tgetTileSize(){\r\n\t\treturn this.tileSize;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tileset.class.js","export default class{\r\n\tconstructor(obj){\r\n\t\tthis.name = 'entity';\r\n\r\n\t\tthis.position = {\r\n\t\t\tx:0,\r\n\t\t\ty:0\r\n\t\t};\r\n\r\n\t\tthis.velocity = {\r\n\t\t\tx:0,\r\n\t\t\ty:0\r\n\t\t},\r\n\r\n\t\tthis.renderable = true;\r\n\r\n\t\tif (typeof obj === 'object') {\r\n\t\t\tfor (let prop in obj){\r\n\t\t\t\tif (this.hasOwnProperty(prop)) this[prop] = obj[prop]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thidde(){\r\n\t\tthis.renderable = false;\r\n\t}\r\n\r\n\tshow(){\r\n\t\tthis.renderable = true;\r\n\t}\r\n\r\n\tisRenderable(){\r\n\t\treturn this.renderable;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/entity.class.js","import Entity from './entity.class.js'\r\n\r\nexport default class extends Entity{\r\n\tconstructor(obj){\r\n\t\tsuper();\r\n\r\n\t\tthis.sprite = null;\r\n\r\n\t\tthis.tiles = [];\r\n\r\n\t\tthis.scale = 1;\r\n\r\n\t\tif (typeof obj === 'object') {\r\n\t\t\tfor (let prop in obj){\r\n\t\t\t\tif (this.hasOwnProperty(prop)) this[prop] = obj[prop]\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender(ctx){\r\n\t\tif (this.sprite && this.tiles.length>0) {\r\n\r\n\t\t\tlet a = this.tiles;\r\n\t\t\tlet sprite = this.sprite;\r\n\t\t\tlet coord = this.position;\r\n\r\n\t\t\tfor (let i = 0; i < a.length; i++) {\r\n\t\t\t\tlet tileSize = sprite.getTileSize();\r\n\t\t\t\tsprite.drawTile(a[i],ctx,coord.x+(((tileSize.width-sprite.marge)*i)*this.scale),coord.y,this.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Plateform.class.js"],"sourceRoot":""}